# SETTINGS
set drawbox
set errorfmt "\033[31;1mERROR: %s"
set hidden
set ifs "\n"
set incsearch
set previewer preview
set promptfmt "\033[30;1m%w"
set ratios 1:2
set shellopts '-eu'
set tabstop 4

# COMMANDS
cmd open $"$OPENER" "$f"
cmd fuzzy_dir $dir=$(ffind -mindepth 2 -type d | fzf); [ -d "$dir" ] && lf -remote "send $id cd \"$dir\""
cmd fuzzy_file $ffind -mindepth 2 -type f | fzf | xargs -r "$OPENER"
cmd fuzzy_sel $file=$(ls --color --group-directories-first -Ah | fzf --ansi); [ -e "$file" ] && lf -remote "send $id select \"$file\""
cmd fuzzy_open ${{
    file=$(ls --color --group-directories-first -Ah | fzf --ansi)
    if [ -d "$file" ]; then
        lf -remote "send $id cd \"$file\""
    elif [ -f "$file" ]; then
        "$OPENER" "$file"
    fi
}}

# UNMAP
map w
map i
map e

# MAP - FUZZY
map / fuzzy_sel
map <enter> fuzzy_open
map f fuzzy_file
map J fuzzy_dir

# MAP - MAKE
map ad push %mkdir<space>
map af push $$EDITOR<space>

# MAP - MISC
map C clear
map c updir
map D delete
map H top
map L bottom
map t toggle

# BOOKMARKS - DIRS
map d
map dca cd ~/.cache
map dcl cd ~/cloud
map dco cd ~/.config
map dd cd ~/projects/dotfiles
map dh cd
map dl<enter> cd ~/Downloads
map dls cd ~/.local/share
map dp cd ~/projects
map ds cd ~/projects/scripts
map dt cd ~/projects/st
map du $root=$(git rev-parse --show-toplevel); [ -d "$root" ] && lf -remote "send $id cd \"$root\""
map dw cd ~/projects/dwm
map x cut

# BOOKMARKS - FILES
map oa $$EDITOR ~/.config/aliases
map ov $$EDITOR ~/.config/nvim/init.vim
